# 🚀 Scrcpy 智能启动器

一个基于 Rust 开发的智能 scrcpy 启动器，支持自动下载最新版本并智能管理设备连接。

## ✨ 主要功能

### 🌐 自动下载更新
- 自动检测系统架构（Win32/Win64）
- 从 GitHub 自动下载最新版本的 scrcpy
- 智能缓存，避免重复下载
- 支持断点续传和完整性校验

### 📱 智能设备管理
- 实时监控 Android 设备连接状态
- 设备连接时自动启动 scrcpy
- 设备断开时自动清理进程
- 支持多设备管理

### 🎯 用户友好
- 完全中文界面
- 清晰的状态提示
- 简单的操作方式
- 详细的日志输出

## 🚀 快速开始

### 直接运行
```bash
# 下载并运行编译好的程序
.\scrcpy-launcher.exe
```

### 从源码编译
```bash
# 克隆项目
git clone <repository-url>
cd auto-scrcpy

# 编译发布版本
cargo build --release

# 运行程序
.\target\release\scrcpy-launcher.exe
```

## 📋 系统要求

- Windows 10/11 (支持 32位/64位)
- 网络连接（用于下载 scrcpy）
- USB 调试已启用的 Android 设备

## 🔧 工作原理

1. **启动检测**：程序启动时检查本地是否存在 scrcpy
2. **自动下载**：如果不存在，自动从 GitHub 下载最新版本
3. **架构识别**：自动识别系统架构下载对应版本
4. **设备监控**：持续监控 ADB 设备连接状态
5. **智能启动**：设备连接时自动启动 scrcpy
6. **进程管理**：设备断开时自动清理相关进程

## 📁 项目结构

```
auto-scrcpy/
├── src/
│   └── main.rs              # 主程序源码
├── target/release/
│   └── scrcpy-launcher.exe  # 编译后的可执行文件
├── scrcpy/                  # 自动下载的 scrcpy 文件
├── Cargo.toml               # 项目配置
└── README.md                # 项目说明
```

## 🛠️ 技术栈

- **Rust** - 主要编程语言
- **Tokio** - 异步运行时
- **Reqwest** - HTTP 客户端
- **Serde** - JSON 序列化
- **Zip** - 压缩文件处理

## 📝 使用说明

1. **首次运行**：程序会自动下载最新版本的 scrcpy
2. **连接设备**：使用 USB 连接 Android 设备并启用 USB 调试
3. **自动启动**：设备连接后程序会自动启动 scrcpy
4. **退出程序**：按 `Ctrl+C` 退出程序

## 🔄 更新机制

程序会在每次启动时检查是否有新版本的 scrcpy 可用，并提示用户更新。

## 🐛 故障排除

### 常见问题

1. **下载失败**：检查网络连接和防火墙设置
2. **设备未检测**：确保 USB 调试已启用且驱动正常
3. **scrcpy 启动失败**：检查设备授权和 ADB 连接

### 日志信息

程序会输出详细的运行日志，帮助诊断问题：
- 🔍 检测状态
- 📥 下载进度
- 📱 设备状态
- 🚀 启动信息

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

---

**享受无缝的 Android 屏幕镜像体验！** 🎉